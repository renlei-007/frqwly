{"version":3,"sources":["uni-app:///main.js","webpack:///D:/我的/qianduan-fr/pages/map/map.vue?0e52","webpack:///D:/我的/qianduan-fr/pages/map/map.vue?9707","webpack:///D:/我的/qianduan-fr/pages/map/map.vue?071a","webpack:///D:/我的/qianduan-fr/pages/map/map.vue?9664","uni-app:///pages/map/map.vue","webpack:///D:/我的/qianduan-fr/pages/map/map.vue?26c3","webpack:///D:/我的/qianduan-fr/pages/map/map.vue?3860"],"names":["createPage","Page"],"mappings":"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","file":"pages/map/map.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/map/map.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./map.vue?vue&type=template&id=0b31f540&\"\nvar renderjs\nimport script from \"./map.vue?vue&type=script&lang=js&\"\nexport * from \"./map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./map.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/map/map.vue\"\nexport default component.exports","export * from \"-!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./map.vue?vue&type=template&id=0b31f540&\"","var components\ntry {\n  components = {\n    slFilter: function() {\n      return import(\n        /* webpackChunkName: \"components/sl-filter/sl-filter\" */ \"@/components/sl-filter/sl-filter.vue\"\n      )\n    },\n    ysScroll: function() {\n      return import(\n        /* webpackChunkName: \"components/base/ys-scroll\" */ \"@/components/base/ys-scroll.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = !_vm.is_choose\n    ? _vm.__map(_vm.pointList, function(item, index) {\n        var $orig = _vm.__get_orig(item)\n\n        var m0 = _vm.calDistance(item)\n        return {\n          $orig: $orig,\n          m0: m0\n        }\n      })\n    : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./map.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"map\">\n\t\t<sl-filter \r\n\t\t\t:ref=\"'slFilter'\" \r\n\t\t\t:topFixed=\"true\" \r\n\t\t\t:isTransNav=\"true\" \r\n\t\t\t:navHeight=\"0\" \r\n\t\t\t:menuList=\"menuList\"\r\n\t\t\t@result=\"result\">\r\n\t\t</sl-filter>\r\n\t\t<ys-scroll v-if=\"!is_choose\" :param=\"param\" ref = \"scroll\" @refresh=\"refresh\" @loadMore = \"\">\r\n\t\t\t<view class=\"all_scroll\">\r\n\t\t\t\t<view class=\"allpoint_li\" v-for=\"(item,index) in pointList\" :key=\"index\" @tap=\"todetail(item)\">\r\n\t\t\t\t\t<view class=\"allpoint_li_img\">\r\n\t\t\t\t\t\t<image :src=\"item.titleImg\" mode=\"\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"allpoint_li_content\">\r\n\t\t\t\t\t\t<view class=\"allpoint_li_content_title\">{{item.title}}</view>\r\n\t\t\t\t\t\t<view class=\"allpoint_li_content_txt\">地址：{{item.attr_address}}</view>\r\n\t\t\t\t\t\t<view class=\"allpoint_li_content_txt\">距离：{{calDistance(item)}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</ys-scroll>\r\n\t\t<view class=\"content_box\" v-else>\r\n\t\t\t<view class=\"cate_list\">\r\n\t\t\t\t<ys-scroll :param=\"cate_param\">\r\n\t\t\t\t\t<view \r\n\t\t\t\t\t\tclass=\"cate_item\" \r\n\t\t\t\t\t\t:class=\"{cate_item_active:cate_index==index}\" \r\n\t\t\t\t\t\tv-for=\"(item,index) in cateList\" \r\n\t\t\t\t\t\t:key=\"index\" \r\n\t\t\t\t\t\t@tap=\"changeCate(index)\"\r\n\t\t\t\t\t>{{item.title}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- <view class=\"bottom_distance\"></view> -->\r\n\t\t\t\t</ys-scroll>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"pt_list\">\r\n\t\t\t\t<ys-scroll :param=\"pt_param\" @loadMore = \"getMore\" ref = \"scroll\">\r\n\t\t\t\t\t<view v-for=\"(item,index) in pointList\" :key=\"index\" @tap=\"todetail(item)\">\r\n\t\t\t\t\t\t<view class=\"pt_item\">\r\n\t\t\t\t\t\t\t<view class=\"pt_item_img\">\r\n\t\t\t\t\t\t\t\t<image :src=\"item.titleImg\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"pt_item_info\">\r\n\t\t\t\t\t\t\t\t<view class=\"pt_item_info_title\">{{item.title}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"pt_item_info_txt\">地址：{{item.attr_address}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"pt_item_info_txt\">电话：{{item.attr_phone}}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</ys-scroll>\r\n\t\t\t</view>\r\n\t\t</view>\n\t</view>\n</template>\n\n<script>\r\nimport slFilter from '@/components/sl-filter/sl-filter.vue';\nexport default {\r\n\tcomponents: {\r\n\t\tslFilter\r\n\t},\n\tdata() {\n\t\treturn {\r\n\t\t\tparam:{//滚动区域配置\r\n\t\t\t\tscroll_y:true,\r\n\t\t\t\tbackground:'#f2f2f2',\r\n\t\t\t\trefresher:true,\r\n\t\t\t\tno_more_text:'',\r\n\t\t\t\trefresher_style:'black'\r\n\t\t\t},\r\n\t\t\tis_choose: false,\r\n\t\t\tpage: 0,//页数\r\n\t\t\tpages: 0,\r\n\t\t\tpointList: [],\r\n\t\t\tcatePointList: [],\r\n\t\t\tcate_index:0,//选中的二级菜单下标\r\n\t\t\tcate_param:{//一级分类滚动区域配置\r\n\t\t\t\tscroll_y:true,\r\n\t\t\t\tscroll_x:false,\r\n\t\t\t\tbackground:'#f2f2f2'\r\n\t\t\t},\r\n\t\t\tpt_param:{\r\n\t\t\t  scroll_y:true,\r\n\t\t\t  scroll_x:false\r\n\t\t\t},//商品滚动区域配置\r\n\t\t\tcateList: [],\r\n\t\t\tpoints: '27.46727283131032,112.16941164086553,28.876774200707032,113.8581604412483',\n\t\t\tmenuList: [{\r\n\t\t\t\t\t'title': '类别',\r\n\t\t\t\t\t'isSort': true,\r\n\t\t\t\t\t'key': 'type',\r\n\t\t\t\t\t'detailList': [{\r\n\t\t\t\t\t\t\t'title': '全部',\r\n\t\t\t\t\t\t\t'value': ''\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t'title': '方式',\r\n\t\t\t\t\t'key': 'sort',\r\n\t\t\t\t\t'isSort': true,\r\n\t\t\t\t\t'reflexTitle': true,\r\n\t\t\t\t\t'detailList': [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'title': '距离',\r\n\t\t\t\t\t\t\t'value': '24'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'title': '最新',\r\n\t\t\t\t\t\t\t'value': '4'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'title': '最热',\r\n\t\t\t\t\t\t\t'value': '9'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\ttype: '',\r\n\t\t\tsort: '',\r\n\t\t\tlat: '',\r\n\t\t\tlng: '',\r\n\t\t\tmapTitle: '',\r\n\t\t\tcountPage: 0,\n\t\t};\n\t},\r\n\tonLoad() {\r\n\t\tthis.getCateList()\r\n\t\t\r\n\t},\r\n\tonShow() {\r\n\t\tif(uni.getStorageSync('mapTitle')){\r\n\t\t\tthis.mapTitle = uni.getStorageSync('mapTitle')\r\n\t\t\tconsole.log(this.mapTitle);\r\n\t\t\tuni.removeStorageSync('mapTitle')\r\n\t\t\tthis.type = this.mapTitle\r\n\t\t\tthis.$refs.slFilter.titleList = [{\r\n\t\t\t\ttitle: this.type,\r\n\t\t\t\tkey: 'type'\r\n\t\t\t},{\r\n\t\t\t\ttitle: '方式',\r\n\t\t\t\tkey: 'sort'\r\n\t\t\t},]\r\n\t\t}\r\n\t\tthis.getCatePointList()\r\n\t},\r\n\tmethods: {\r\n\t\t/**\r\n\t\t * 页面刷新\r\n\t\t */\r\n\t\trefresh(){\r\n\t\t\tconsole.log('刷新');\r\n\t\t\tthis.pages = 0;\r\n\t\t\tthis.pointList = [];\r\n\t\t\tthis.getCatePointList()\r\n\t\t\tsetTimeout(()=>{\r\n\t\t\t    this.$refs.scroll.endRefresh()\r\n\t\t\t},800)\r\n\t\t},\r\n\t\tloadMore(){\r\n\t\t    console.log('上拉加载');\r\n\t\t    this.pages += 15\r\n\t\t\tthis.getCatePointList();\r\n\t\t},\r\n\t\tresult(val) {\r\n\t\t\tconsole.log(val);\r\n\t\t\tthis.cateList.map((item,index)=>{\r\n\t\t\t\tif(item.title==val.type){\r\n\t\t\t\t\tthis.cate_index = index\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tthis.type = val.type;\r\n\t\t\tconsole.log(this.type);\r\n\t\t\tthis.sort = val.sort;\r\n\t\t\tthis.countPage = 0\r\n\t\t\tthis.is_choose = true\r\n\t\t\tthis.pointList = []\r\n\t\t\tthis.pages = 0\r\n\t\t\tthis.loadMorePoints()\r\n\t\t},\r\n\t\tchangeCate(index){\r\n\t\t\tthis.cate_index = index\r\n\t\t\tthis.pointList = [];\r\n\t\t\tthis.type = this.cateList[index].title\r\n\t\t\tthis.countPage = 0\r\n\t\t\tconsole.log(this.type);\r\n\t\t\tif(index==0){\r\n\t\t\t\tthis.type = ''\r\n\t\t\t}\r\n\t\t\tthis.pages = 0;\r\n\t\t\tthis.getCatePointList();\r\n\t\t},\r\n\t\tgetCateList(){\r\n\t\t\tlet params = {\r\n\t\t\t\tchannelId : 147,\r\n\t\t\t}\r\n\t\t\tlet array = []\r\n\t\t\tthis.indexRequest({url:'/model/get',data:params}).then(res=>{\r\n\t\t\t\tthis.cateList = [{\r\n\t\t\t\t\ttitle: '全部',\r\n\t\t\t\t}]\r\n\t\t\t\tres.data.body.map(item=>{\r\n\t\t\t\t\tif(item.field=='type'){\r\n\t\t\t\t\t\tarray = item.optValue\r\n\t\t\t\t\t\tarray.map((k,v)=>{\r\n\t\t\t\t\t\t\tthis.cateList.push({title: k})\r\n\t\t\t\t\t\t\tthis.menuList[0].detailList.push({title: k, value: k});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t// this.cutList = array\r\n\t\t\t})\r\n\t\t},\r\n\t\tloadMorePoints(){\r\n\t\t\tthis.pages += 10\r\n\t\t\tthis.getCatePointList();\r\n\t\t\t// this.$refs.scroll.setLoadStatus('loading')\r\n\t\t},\r\n\t\tgetMore(){\r\n\t\t\tconsole.log('上拉加载');\r\n\t\t\tthis.countPage += 25\r\n\t\t\tthis.getCatePointList();\r\n\t\t},\r\n\t\tgetCatePointList(){\r\n\t\t\tlet params={\r\n\t\t\t\tchannelIds: 147,\r\n\t\t\t\tcount: 25,\r\n\t\t\t\tpoints: this.points,\r\n\t\t\t\torderBy: this.sort,\r\n\t\t\t\tfirst: this.countPage\r\n\t\t\t}\r\n\t\t\tif(this.type){\r\n\t\t\t\tparams['type'] = this.type\r\n\t\t\t}\r\n\t\t\tparams['orderBy'] = this.sort\r\n\t\t\tlet position = this.getLocation()\r\n\t\t\tposition.then(res=>{\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tthis.lat = res.latitude;\r\n\t\t\t\tthis.lng = res.longitude;\r\n\t\t\t\tparams['lat'] = this.lat;\r\n\t\t\t\tparams['lng'] = this.lng;\r\n\t\t\t\tthis.indexRequest({url:'/query/position',data:params}).then(res=>{\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tif(res.data.body.data.length == 0 && this.pointList.length == 0){\r\n\t\t\t\t\t\tthis.$refs.scroll.setLoadStatus('no_data');\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.pointList = this.pointList.concat(res.data.body.data)\r\n\t\t\t\t\t\tif(res.data.body.data.length<25){\r\n\t\t\t\t\t\t\tthis.$refs.scroll.setLoadStatus('no_more');\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.$refs.scroll.setLoadStatus('more');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t},\r\n\t\tcalDistance(item){\r\n\t\t\tif(item && item.position && this.lat){\r\n\t\t\t\treturn this.getDistance(this.lat, this.lng, item.position.lat, item.position.lng)+'KM';\r\n\t\t\t}\r\n\t\t\treturn '';\r\n\t\t},\r\n\t\tgetDistance(lat1,  lng1,  lat2,  lng2){\r\n\t\t\tvar radLat1 = lat1*Math.PI / 180.0;\r\n\t\t\tvar radLat2 = lat2*Math.PI / 180.0;\r\n\t\t\tvar a = radLat1 - radLat2;\r\n\t\t\tvar  b = lng1*Math.PI / 180.0 - lng2*Math.PI / 180.0;\r\n\t\t\tvar s = 2 * Math.asin(Math.sqrt(Math.pow(Math.sin(a/2),2) +\r\n\t\t\tMath.cos(radLat1)*Math.cos(radLat2)*Math.pow(Math.sin(b/2),2)));\r\n\t\t\ts = s *6378.137 ;// EARTH_RADIUS;\r\n\t\t\ts = Math.round(s * 10000) / 10000;\r\n\t\t\treturn s.toFixed(2);\r\n\t\t},\r\n\t\tgetLocation(){\r\n\t\t\treturn new Promise((resolve, reject)=>{\r\n\t\t\t\tuni.getLocation({\r\n\t\t\t\t\ttype: 'gcj02',\r\n\t\t\t\t\tsuccess: (res)=>{\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\tresolve(res);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail:(res)=>{\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\tthis.toast('获取地址失败','none')\r\n\t\t\t\t\t\t//没有获取到位置，使用默认地址\r\n\t\t\t\t\t\tresolve({\r\n\t\t\t\t\t\t\tlatitude : 28.141998,\r\n\t\t\t\t\t\t\tlongitude : 113.044478,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t},\r\n\t\ttodetail(item){\r\n\t\t\tuni.setStorageSync('maps',item)\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: './map-detail?type='+this.type+'&&sort='+this.sort\r\n\t\t\t})\r\n\t\t},\r\n\t},\n}\n</script>\n\n<style lang=\"scss\">\n.map{\r\n\twidth: 100%;\r\n\t/* #ifdef H5 */\r\n\theight: calc(100% - 90rpx);\r\n\t/* #endif */\r\n\t/* #ifdef MP-WEIXIN */\r\n\theight: 100%;\r\n\t/* #endif */\r\n\t.all_scroll{\r\n\t\twidth: 100%;\r\n\t\t.allpoint_li{\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 180rpx;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tpadding: 30rpx;\r\n\t\t\tbackground-color: #FFFFFF;\r\n\t\t\tmargin-top: 10rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\t&:nth-child(1){\r\n\t\t\t\tmargin-top: 0;\r\n\t\t\t}\r\n\t\t\t&_img{\r\n\t\t\t\twidth: 200rpx;\r\n\t\t\t\theight: 112rpx;\r\n\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\tmargin-right: 30rpx;\r\n\t\t\t\tbackground: url(../../static/default.png) no-repeat;\r\n\t\t\t\tbackground-size: 400rpx 224rpx;\r\n\t\t\t\tbackground-position: -100rpx -56rpx;\r\n\t\t\t\timage{\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t&_content{\r\n\t\t\t\twidth: calc(100% - 230rpx);\r\n\t\t\t\theight: 100%;\r\n\t\t\t\t&_title{\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\tline-height: 32rpx;\r\n\t\t\t\t\tcolor: #1B1C1E;\r\n\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\ttext-overflow:ellipsis;\r\n\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t}\r\n\t\t\t\t&_txt{\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tline-height: 24rpx;\r\n\t\t\t\t\tmargin-top: 16rpx;\r\n\t\t\t\t\tcolor: #8B8B9C;\r\n\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\ttext-overflow:ellipsis;\r\n\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.content_box{\r\n\t\twidth: 100%;\r\n\t\theight: calc(100% - 90rpx);\r\n\t\tdisplay: flex;\r\n\t\t.cate_list{\r\n\t\t\theight: 100%;\r\n\t\t\twidth: 180rpx;\r\n\t\t\tflex-shrink: 0;\r\n\t\t\t.cate_item{\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\theight: 100rpx;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tline-height: 100rpx;\r\n\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\tcolor: #4d4d4d;\r\n\t\t\t\tposition: relative;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\ttext-overflow:ellipsis;\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t}\r\n\t\t\t.bottom_distance{\r\n\t\t\t  width: 100%;\r\n\t\t\t  height: 150rpx;\r\n\t\t\t}\r\n\t\t\t.cate_item_active{\r\n\t\t\t\twidth: calc(100% - 8rpx);\r\n\t\t\t\tbackground-color: #FFFFFF;\r\n\t\t\t\tborder-left: 8rpx solid #F2520B;\r\n\t\t\t\tposition: relative;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.pt_list{\r\n\t\t\twidth: calc(100% - 180rpx);\r\n\t\t\theight: 100%;\r\n\t\t\tflex-shrink: 0;\r\n\t\t\t.pt_item{\r\n\t\t\t\twidth: calc(100% - 60rpx);\r\n\t\t\t\tmargin: 0 30rpx;\r\n\t\t\t\tpadding: 30rpx 0;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tborder-bottom: 1px solid #eee;\r\n\t\t\t\t&_img{\r\n\t\t\t\t\twidth: 150rpx;\r\n\t\t\t\t\theight: 112rpx;\r\n\t\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\t\tmargin-right: 30rpx;\r\n\t\t\t\t\tbackground: url(../../static/default.png) no-repeat;\r\n\t\t\t\t\tbackground-size: 300rpx 224rpx;\r\n\t\t\t\t\tbackground-position: -75rpx -56rpx;\r\n\t\t\t\t\timage{\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t&_info{\r\n\t\t\t\t\twidth: calc(100% - 180rpx);\r\n\t\t\t\t\t&_title{\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\t\tline-height: 32rpx;\r\n\t\t\t\t\t\tcolor: #1B1C1E;\r\n\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\ttext-overflow:ellipsis;\r\n\t\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t&_txt{\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\tline-height: 24rpx;\r\n\t\t\t\t\t\tmargin-top: 16rpx;\r\n\t\t\t\t\t\tcolor: #8B8B9C;\r\n\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\ttext-overflow:ellipsis;\r\n\t\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\n</style>\n","import mod from \"-!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./map.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\hbx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./map.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1629885605645\n      var cssReload = require(\"E:/hbx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}
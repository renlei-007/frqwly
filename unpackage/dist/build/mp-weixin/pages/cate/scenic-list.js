(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/cate/scenic-list"],{"28bd":function(t,i,e){"use strict";var s=e("c2fa"),n=e.n(s);n.a},"82ab":function(t,i,e){"use strict";e.r(i);var s=e("cda1"),n=e("8fd4");for(var c in n)"default"!==c&&function(t){e.d(i,t,(function(){return n[t]}))}(c);e("28bd");var a,o=e("f0c5"),h=Object(o["a"])(n["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],a);i["default"]=h.exports},8366:function(t,i,e){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=n(e("2b7b"));function n(t){return t&&t.__esModule?t:{default:t}}var c={data:function(){return{scenicList:[],lineList:[],scenicLeftList:[],scenicRightList:[],cutList:[{name:"吃",value:204},{name:"住",value:205},{name:"旅游公司",value:206}],param:{scroll_y:!0,background:"#F2F5FA",refresher:!0,no_more_text:"没有更多了~",refresher_style:"black"},first_cate_param:{scroll_y:!1,scroll_x:!0},page:0,Index:0,cutIndex:0,channelIds:207,scenicListCount:0,scenicLeftListHeight:0,scenicRightListHeight:0,hsxpList:s.default.hsxp.point,hsjyList:s.default.hsjy.point,yxyList:s.default.yxy.point,whdkyList:s.default.whdky.point,lineList1:[],lineList2:[],lineList3:[],lineList4:[]}},onLoad:function(i){var e;i.type&&(this.type=i.type),i.cutIndex&&(this.Index=i.cutIndex),this.channelIds=i.channelIds,1==this.Index?e="展览馆":2==this.Index?e="网红打卡":3==this.Index?e="精品路线":4==this.Index&&(e="旅游服务"),t.setNavigationBarTitle({title:e}),4==this.Index&&(this.channelIds=204),3==this.Index?this.getLineList():this.getList()},methods:{getLocation:function(t,i){var e,s;e=690,0==i&&(s=286),1==i&&(s=336),2!=i&&3!=i||(s=358);var n=t.left/e*100,c=t.top/s*100;return[n,c]},refresh:function(){var t=this;console.log("刷新"),this.page=0,this.scenicLeftList=[],this.scenicRightList=[],this.scenicList=[],this.scenicListCount=0,this.scenicLeftListHeight=0,this.scenicRightListHeight=0,this.getList(),setTimeout((function(){t.$refs.scroll.endRefresh()}),800)},loadMore:function(){console.log("上拉加载"),this.page+=10,this.getList()},changeTab:function(t,i){this.channelIds=t.value,this.page=0,this.cutIndex=i,this.scenicLeftList=[],this.scenicRightList=[],this.scenicList=[],this.scenicListCount=0,this.scenicLeftListHeight=0,this.scenicRightListHeight=0,this.getList()},getList:function(){var t=this,i={channelIds:this.channelIds,first:this.page,count:10,format:0,orderBy:9};this.indexRequest({url:"/content/list.jspx",data:i}).then((function(i){console.log(t.scenicList),0==i.data.body.length&&0==t.scenicList.length?t.$refs.scroll.setLoadStatus("no_data"):(t.scenicList=t.scenicList.concat(i.data.body),1!=t.cutIndex&&(t.scenicLeftListHeight>t.scenicRightListHeight?t.scenicRightList.push(i.data.body[0]):t.scenicLeftList.push(i.data.body[0])),i.data.body.length<10?t.$refs.scroll.setLoadStatus("no_more"):t.$refs.scroll.setLoadStatus("more"))}))},getLineList:function(){var t=this,i=[214,215,216,217];i.map((function(i,e){var s={channelIds:i,format:0,orderBy:5};t.indexRequest({url:"/content/list.jspx",data:s}).then((function(i){console.log(i),0==e?t.lineList1=i.data.body:1==e?t.lineList2=i.data.body:2==e?t.lineList3=i.data.body:t.lineList4=i.data.body,t.lineList.push(i.data.body)}))}))},onImageLoad:function(t){var i=328,e=t.detail.width,s=t.detail.height+112,n=i*s/e;0==this.scenicListCount?(this.scenicLeftListHeight+=n,this.scenicListCount++,this.scenicRightList.push(this.scenicList[this.scenicListCount])):(this.scenicListCount++,this.scenicLeftListHeight>this.scenicRightListHeight?this.scenicRightListHeight+=n:this.scenicLeftListHeight+=n,this.scenicListCount<this.scenicList.length&&(this.scenicLeftListHeight>this.scenicRightListHeight?this.scenicRightList.push(this.scenicList[this.scenicListCount]):this.scenicLeftList.push(this.scenicList[this.scenicListCount])))},todetail:function(i,e){t.navigateTo({url:"/pages/cate/scenic-spot?id="+i+"&&channelIds="+this.channelIds})},goDetail:function(i,e){var s="",n="";0==i?(n=214,this.lineList1.map((function(t){t.title==e&&(s=t.id)}))):1==i?(n=215,this.lineList2.map((function(t){t.title==e&&(s=t.id)}))):2==i?(n=216,this.lineList3.map((function(t){t.title==e&&(s=t.id)}))):(n=217,this.lineList4.map((function(t){t.title==e&&(s=t.id)}))),t.navigateTo({url:"/pages/cate/scenic-spot?id="+s+"&&channelIds="+n})}}};i.default=c}).call(this,e("543d")["default"])},"8fd4":function(t,i,e){"use strict";e.r(i);var s=e("8366"),n=e.n(s);for(var c in s)"default"!==c&&function(t){e.d(i,t,(function(){return s[t]}))}(c);i["default"]=n.a},c2fa:function(t,i,e){},cda1:function(t,i,e){"use strict";e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return c})),e.d(i,"a",(function(){return s}));var s={ysScroll:function(){return e.e("components/base/ys-scroll").then(e.bind(null,"c42f"))}},n=function(){var t=this,i=t.$createElement,e=(t._self._c,3==t.Index?t.__map(t.hsxpList,(function(i,e){var s=t.__get_orig(i),n=t.getLocation(i,0),c=t.getLocation(i,0);return{$orig:s,m0:n,m1:c}})):null),s=3==t.Index?t.__map(t.hsjyList,(function(i,e){var s=t.__get_orig(i),n=t.getLocation(i,1),c=t.getLocation(i,1);return{$orig:s,m2:n,m3:c}})):null,n=3==t.Index?t.__map(t.yxyList,(function(i,e){var s=t.__get_orig(i),n=t.getLocation(i,2),c=t.getLocation(i,2);return{$orig:s,m4:n,m5:c}})):null,c=3==t.Index?t.__map(t.whdkyList,(function(i,e){var s=t.__get_orig(i),n=t.getLocation(i,3),c=t.getLocation(i,3);return{$orig:s,m6:n,m7:c}})):null;t.$mp.data=Object.assign({},{$root:{l1:e,l2:s,l3:n,l4:c}})},c=[]},e52a:function(t,i,e){"use strict";(function(t){e("41a1");s(e("66fd"));var i=s(e("82ab"));function s(t){return t&&t.__esModule?t:{default:t}}t(i.default)}).call(this,e("543d")["createPage"])}},[["e52a","common/runtime","common/vendor"]]]);
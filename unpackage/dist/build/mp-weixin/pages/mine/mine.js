(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/mine"],{"01ac":function(e,t,n){"use strict";n.r(t);var a=n("2179"),o=n("3c43");for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);n("a5ec");var c,s=n("f0c5"),u=Object(s["a"])(o["default"],a["b"],a["c"],!1,null,"3077c4f2",null,!1,a["a"],c);t["default"]=u.exports},"0931":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n("66fd"));function o(e){return e&&e.__esModule?e:{default:e}}var i={data:function(){return{is_sign:!1,user:{},score:0,messageCount:0,commentCount:0,function_menu:[{src:n("a3f9"),title:"我的收藏"},{src:n("27d6"),title:"我的剧场"},{src:n("f2ad"),title:"我的培训"},{src:n("bf78"),title:"互动交流"},{src:n("d59c"),title:"志愿活动"},{src:n("adac"),title:"实名认证"},{src:n("f56a"),title:"修改手机"},{src:n("efeb"),title:"个人设置"},{src:n("77d8"),title:"意见反馈"},{src:n("9c14"),title:"关于我们"}],active_menu:[{src:n("e63c"),title:"我的活动"},{src:n("e767"),title:"我的场馆"},{src:n("0623"),title:"我的社团"}],is_Login:!1}},onLoad:function(){this.is_Login=this.isLogin,this.is_Login&&this.getMessageNumber()},methods:{goPage:function(t,n){if(this.is_Login){if("function"==t)switch(n){case 0:e.navigateTo({url:"./my-collection"});break;case 1:e.navigateTo({url:"./my-theatre"});break;case 2:e.navigateTo({url:"./my-train"});break;case 3:e.navigateTo({url:"./communication"});break;case 4:e.navigateTo({url:"./my-volunteer"});break;case 5:e.navigateTo({url:"./attestation"});break;case 6:e.navigateTo({url:"./revise-phone"});break;case 7:e.navigateTo({url:"./setting"});break;case 8:e.navigateTo({url:"./feedback"});break;case 9:e.navigateTo({url:"./aboutme"});break}if("active"==t)switch(n){case 0:e.navigateTo({url:"./myactive"});break;case 1:e.navigateTo({url:"./myvenues"});break;case 2:e.navigateTo({url:"./myorganization"});break}}else e.showModal({title:"提示",content:"您还没有登录，无法查看或设置，确认要先登录吗？",success:function(t){t.confirm?e.navigateTo({url:"/pages/login/login"}):t.cancel}})},toLogin:function(){if(this.isLogin)return!1;e.navigateTo({url:"/pages/login/login"})},todetail:function(t){this.is_Login?(0==t&&e.navigateTo({url:"./reward-points"}),1==t&&e.navigateTo({url:"./my-message"}),2==t&&e.navigateTo({url:"./comment-list"})):e.showModal({title:"提示",content:"您还没有登录，无法查看或设置，确认要先登录吗？",success:function(t){t.confirm?e.navigateTo({url:"/pages/login/login"}):t.cancel}})},getMessageNumber:function(){var t=this,n=e.getStorageSync("user_info").username;this.homeRequest({url:"/user/get",method:"GET",data:{username:n}}).then((function(e){console.log(e),t.user=e.body,t.score=e.body.score})),this.homeRequest({url:"/message/count",method:"GET",data:{}}).then((function(e){console.log(e),t.messageCount=e.body})),this.homeRequest({url:"/comment/count",method:"GET",data:{}}).then((function(e){console.log(e),t.commentCount=e.body}))},signIn:function(){this.is_sign=!0},toSign:function(){var e=this;this.homeRequest({url:"/signin",method:"POST",data:{}}).then((function(t){console.log(t),200==t.code?e.is_sign=!1:e.toast(t.message,"none")}))},logout:function(){a.default.prototype.isLogin=!1,e.showModal({title:"退出",content:"确定要退出登录吗?",success:function(t){t.confirm&&(e.clearStorageSync(),e.reLaunch({url:"../login/login"}))}})},scan:function(){var t=this;e.scanCode({success:function(n){var a=JSON.parse(n.result.replace(/“/g,'"'));t.user.admin&&a.type?e.navigateTo({url:"/pages/mine/writeoff?type="+a.type+"&value="+a.value}):t.toast("该二维码无法核销")}})},moveHandle:function(){return!1}}};t.default=i}).call(this,n("543d")["default"])},2179:function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a}));var o=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){e.is_sign=!1})},i=[]},"3c43":function(e,t,n){"use strict";n.r(t);var a=n("0931"),o=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=o.a},"89ac":function(e,t,n){},a5ec:function(e,t,n){"use strict";var a=n("89ac"),o=n.n(a);o.a},c217:function(e,t,n){"use strict";(function(e){n("41a1");a(n("66fd"));var t=a(n("01ac"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])}},[["c217","common/runtime","common/vendor"]]]);